<Page xmlns="http://schemas.nativescript.org/tns.xsd" navigatingTo="navigatingTo">
    <ActionBar title="TUG Test" backgroundColor="GreenYellow">
        <ActionItem
                icon="font://&#xe161;"
                tap="{{ onSaveExecutions }}"
                android.position="actionBar"
                class="mdi-ro"
        ></ActionItem>
        <ActionItem
                text="Delete TUG executions"
                tap="{{ onDeleteExecutions }}"
                android.position="popup"
        ></ActionItem>
        <ActionItem
                text="Add fake execution"
                tap="{{ addFakeExecution }}"
                android.position="popup"
        ></ActionItem>
    </ActionBar>

    <StackLayout width="85%">
        <StackLayout visibility="{{ resultsVM.length === 0 ? 'visible' : 'collapsed' }}">
            <Label text="There are no TUG executions" class="label-title"/>
            <Label text="Start a TUG execution from your smartwatch to see the results"
                class="label-header"
            ></Label>
        </StackLayout>


        <StackLayout visibility="{{ resultsVM.length !== 0 ? 'visible' : 'collapsed' }}">
            <Label text="Results from TUG tests perfomed" class="label-title" ></Label>
            <Label text="Tap on a TUG test result to see more information" class="label-header"></Label>
            <ListView items="{{ resultsVM }}" itemTap="onTugResultTap" separatorColor="Transparent">
                <ListView.itemTemplate>
                    <StackLayout>
                        <GridLayout columns="*,3*" rows="*,*" class="simple-card">
                            <Label col="0" row="0" rowSpan="2" text="&#xe634;" class="mdi-ro">

                            </Label>
                            <Label col="1" row="0">
                                <FormattedString>
                                    <Span text="Date: " class="label-header bold"></Span>
                                    <Span text="{{ date }}" class="label-header"></Span>
                                </FormattedString>
                            </Label>
                            <Label col="1" row="1">
                                <FormattedString>
                                    <Span text="Duration: " class="label-header bold"></Span>
                                    <Span text="{{ duration }}" class="label-header"></Span>
                                </FormattedString>
                            </Label>
                        </GridLayout>
                    </StackLayout>
                </ListView.itemTemplate>
            </ListView>
        </StackLayout>
    </StackLayout>
</Page>
